<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Datetime on 発火後忘失</title>
    <link>https://yukihane.github.io/tags/datetime/</link>
    <description>Recent content in Datetime on 発火後忘失</description>
    <generator>Hugo</generator>
    <language>ja</language>
    <copyright>© Yukihane, All Rights Reserved</copyright>
    <lastBuildDate>Wed, 28 Apr 2021 15:55:52 +0000</lastBuildDate>
    <atom:link href="https://yukihane.github.io/tags/datetime/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>MySQL Connector/J 8.0.23 でタイムゾーン変換メカニズムが変更になった</title>
      <link>https://yukihane.github.io/blog/202104/29/mysql-connector-j-8.0.23/</link>
      <pubDate>Wed, 28 Apr 2021 15:55:52 +0000</pubDate>
      <guid>https://yukihane.github.io/blog/202104/29/mysql-connector-j-8.0.23/</guid>
      <description>&lt;p&gt;MySQL Connector/J &lt;code&gt;8.0.23&lt;/code&gt; でタイムゾーン変換のメカニズムが変わりました(Spring Boot では &lt;a href=&#34;https://docs.spring.io/spring-boot/docs/2.3.9.RELEASE/reference/html/appendix-dependency-versions.html#dependency-versions&#34;&gt;&lt;code&gt;2.3.9&lt;/code&gt;&lt;/a&gt;以降, &lt;a href=&#34;https://docs.spring.io/spring-boot/docs/2.4.3/reference/html/appendix-dependency-versions.html#dependency-versions&#34;&gt;&lt;code&gt;2.4.3&lt;/code&gt;&lt;/a&gt;以降でこれを採用しています)。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;Important Change&lt;/strong&gt;: A new mechanism has been introduced for users to configure how time zone conversions should occur when time instants are saved to or retrieved from a server by Connector/J.&lt;/p&gt;&#xA;&lt;p&gt;—  &lt;a href=&#34;https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-23.html&#34;&gt;MySQL :: MySQL Connector/J 8.0 Release Notes :: Changes in MySQL Connector/J 8.0.23 (2021-01-18, General Availability)&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>ISO 8601では 24:00 は妥当だったが改訂によりNGになった</title>
      <link>https://yukihane.github.io/blog/202007/14/iso-8601-2400-is-invalid/</link>
      <pubDate>Mon, 13 Jul 2020 18:45:43 +0000</pubDate>
      <guid>https://yukihane.github.io/blog/202007/14/iso-8601-2400-is-invalid/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://ja.stackoverflow.com/q/68413/2808&#34;&gt;moment().isValid()での24時00分00秒の挙動について - スタック・オーバーフロー&lt;/a&gt; より。&lt;/p&gt;&#xA;&lt;p&gt;ISO 8601 の以前のspecでは、 &lt;code&gt;0:00&lt;/code&gt; も &lt;code&gt;24:00&lt;/code&gt; も両方妥当な表記だったらしいです。 実際、&amp;ldquo;ISO8601 24:00&amp;rdquo; みたいなキーワードで検索するとそのように説明しているサイトも複数ヒットします。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Spring 2.3.0 で時刻オフセットの書式コロン付き&#43;09:00みたいに変わっとるやん</title>
      <link>https://yukihane.github.io/blog/202006/30/json-datetime-format-changed-on-springboot-2.3/</link>
      <pubDate>Tue, 30 Jun 2020 21:09:44 +0000</pubDate>
      <guid>https://yukihane.github.io/blog/202006/30/json-datetime-format-changed-on-springboot-2.3/</guid>
      <description>&lt;p&gt;正確には jackson-databind 2.11.0 で。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.11#changes-behavior&#34;&gt;jackson 2.11 リリースノート&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/FasterXML/jackson-databind/issues/2643&#34;&gt;Change default textual serialization of &lt;code&gt;java.util.Date&lt;/code&gt;/&lt;code&gt;Calendar&lt;/code&gt; to include colon in timezone offset #2643&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://docs.spring.io/spring-boot/docs/2.2.8.RELEASE/reference/htmlsingle/#dependency-versions-coordinates&#34;&gt;このへん&lt;/a&gt;見ると分かるけど、Spring Boot 2.2 系列は jackson-databind 2.10.x が採用されていて、 &lt;a href=&#34;https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/htmlsingle/#dependency-versions-coordinates&#34;&gt;2.3.0&lt;/a&gt; で 2.11.0 が採用されている。&lt;/p&gt;&#xA;&lt;p&gt;コード:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;結果(2.2.8):&lt;/p&gt;</description>
    </item>
    <item>
      <title>Spring Boot 2.1 でテスト時 @Bean を挿げ替えたかった</title>
      <link>https://yukihane.github.io/blog/201905/31/spring-boot-bean-on-testing/</link>
      <pubDate>Fri, 31 May 2019 20:14:41 +0000</pubDate>
      <guid>https://yukihane.github.io/blog/201905/31/spring-boot-bean-on-testing/</guid>
      <description>&lt;h1 id=&#34;動機&#34;&gt;動機&lt;/h1&gt;&#xA;&lt;p&gt;ユニットテスト実行時に &lt;a href=&#34;https://docs.oracle.com/javase/jp/11/docs/api/java.base/java/time/Clock.html&#34;&gt;java.time.Clock&lt;/a&gt; を特定の時間に固定して再現性のあるテスト(現在の時刻に依存しないテスト)を作成したかった。&lt;/p&gt;&#xA;&lt;h1 id=&#34;考え方方針&#34;&gt;考え方/方針&lt;/h1&gt;&#xA;&lt;p&gt;&lt;code&gt;@Configuration&lt;/code&gt; で &lt;code&gt;@Bean&lt;/code&gt; を定義して &lt;code&gt;Clock&lt;/code&gt; をインジェクションできるようにし、実装ではそれを用いる。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
